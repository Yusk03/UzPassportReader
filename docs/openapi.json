{"openapi":"3.1.0","info":{"title":"UzPassportReader","description":"API for performing OCR on passport and ID card images","contact":{"name":"yusk03"},"version":"0.1.0"},"paths":{"/ocr":{"post":{"summary":"OCR passport or ID card","description":"Upload document photos as **multipart/form-data**. Behavior depends on `isIdCard`:\n\n- `false` → Passport book: requires `frontPhoto`\n- `true` → ID card: requires `frontPhoto` and `backPhoto`","operationId":"ocr_image_ocr_post","requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"oneOf":[{"$ref":"#/components/schemas/PassportMultipart"},{"$ref":"#/components/schemas/IdCardMultipart"}],"discriminator":{"propertyName":"isIdCard","mapping":{"false":"#/components/schemas/PassportMultipart","true":"#/components/schemas/IdCardMultipart"}}},"encoding":{"frontPhoto":{"contentType":"image/*"},"backPhoto":{"contentType":"image/*"}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/IdCardResponse"},{"$ref":"#/components/schemas/PassportResponse"}],"title":"Response Ocr Image Ocr Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_ocr_image_ocr_post":{"properties":{"isIdCard":{"type":"boolean","title":"Isidcard","description":"Document type discriminator"},"frontPhoto":{"type":"string","format":"binary","title":"Frontphoto","description":"Front image"},"backPhoto":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Backphoto","description":"Back image (required if isIdCard=true)"}},"type":"object","required":["isIdCard","frontPhoto"],"title":"Body_ocr_image_ocr_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IdCardResponse":{"properties":{"status":{"type":"string","const":"ok","title":"Status"},"document_type":{"type":"string","const":"id_card","title":"Document Type"},"result":{"$ref":"#/components/schemas/IdCardResult"}},"type":"object","required":["status","document_type","result"],"title":"IdCardResponse"},"IdCardResult":{"properties":{"raw":{"items":{"type":"string"},"type":"array","title":"Raw"},"surname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Surname","examples":["ABDULBOQIYEV"]},"given_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Given Name","examples":["FARRUX"]},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic","examples":["ABDULLO O'G'LI"]},"date_of_birth":{"anyOf":[{"type":"string","pattern":"^\\d{2}\\.\\d{2}\\.\\d{4}$"},{"type":"null"}],"title":"Date Of Birth","examples":["03.04.2005"]},"sex":{"anyOf":[{"type":"string","enum":["M","F"]},{"type":"null"}],"title":"Sex"},"date_of_issue":{"anyOf":[{"type":"string","pattern":"^\\d{2}\\.\\d{2}\\.\\d{4}$"},{"type":"null"}],"title":"Date Of Issue","examples":["11.11.2024"]},"date_of_expiry":{"anyOf":[{"type":"string","pattern":"^\\d{2}\\.\\d{2}\\.\\d{4}$"},{"type":"null"}],"title":"Date Of Expiry","examples":["10.11.2034"]},"card_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Card Number","description":"Document number","examples":["AD1234567"]},"place_of_birth":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Place Of Birth","examples":["NORIN TUMANI"]},"authority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authority","examples":["IIV 14242"]},"personal_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personal Number","description":"Personal number","examples":["51111055950034"]}},"type":"object","required":["raw","surname","given_name","patronymic","date_of_birth","sex","date_of_issue","date_of_expiry","card_number","place_of_birth","authority","personal_number"],"title":"IdCardResult"},"PassportResponse":{"properties":{"status":{"type":"string","const":"ok","title":"Status"},"document_type":{"type":"string","const":"passport","title":"Document Type"},"result":{"$ref":"#/components/schemas/PassportResult"}},"type":"object","required":["status","document_type","result"],"title":"PassportResponse"},"PassportResult":{"properties":{"raw":{"items":{"type":"string"},"type":"array","title":"Raw"},"surname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Surname","examples":["ABDULBOQIYEV"]},"given_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Given Name","examples":["FARRUX"]},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic","examples":["ABDULLO O'G'LI"]},"date_of_birth":{"anyOf":[{"type":"string","pattern":"^\\d{2}\\.\\d{2}\\.\\d{4}$"},{"type":"null"}],"title":"Date Of Birth","examples":["03.04.2005"]},"sex":{"anyOf":[{"type":"string","enum":["M","F"]},{"type":"null"}],"title":"Sex"},"date_of_issue":{"anyOf":[{"type":"string","pattern":"^\\d{2}\\.\\d{2}\\.\\d{4}$"},{"type":"null"}],"title":"Date Of Issue","examples":["11.11.2024"]},"date_of_expiry":{"anyOf":[{"type":"string","pattern":"^\\d{2}\\.\\d{2}\\.\\d{4}$"},{"type":"null"}],"title":"Date Of Expiry","examples":["10.11.2034"]},"card_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Card Number","description":"Document number","examples":["AD1234567"]},"place_of_birth":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Place Of Birth","examples":["NORIN TUMANI"]},"authority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authority","examples":["MIA 33222"]}},"type":"object","required":["raw","surname","given_name","patronymic","date_of_birth","sex","date_of_issue","date_of_expiry","card_number","place_of_birth","authority"],"title":"PassportResult"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"PassportMultipart":{"type":"object","additionalProperties":false,"properties":{"isIdCard":{"type":"boolean","const":false,"description":"Must be false for passport"},"frontPhoto":{"type":"string","format":"binary","description":"Photo of passport"}},"required":["isIdCard","frontPhoto"]},"IdCardMultipart":{"type":"object","additionalProperties":false,"properties":{"isIdCard":{"type":"boolean","const":true,"description":"Must be true for ID card"},"frontPhoto":{"type":"string","format":"binary","description":"Front photo of ID card"},"backPhoto":{"type":"string","format":"binary","description":"Back photo of ID card"}},"required":["isIdCard","frontPhoto","backPhoto"]}}}}